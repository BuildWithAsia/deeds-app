{
  "type": "excalidraw",
  "version": 2,
  "source": "https://excalidraw.com",
  "elements": [
    {
      "type": "rectangle",
      "id": "title-box",
      "x": 100,
      "y": 50,
      "width": 800,
      "height": 80,
      "strokeColor": "#1e293b",
      "backgroundColor": "#0ea5e9",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 0,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "title-text",
      "x": 280,
      "y": 70,
      "width": 440,
      "height": 40,
      "text": "Deeds App - Current Architecture",
      "fontSize": 28,
      "fontFamily": 1,
      "textAlign": "center",
      "verticalAlign": "middle",
      "strokeColor": "#ffffff",
      "opacity": 100
    },

    {
      "type": "rectangle",
      "id": "frontend-section",
      "x": 100,
      "y": 200,
      "width": 380,
      "height": 500,
      "strokeColor": "#7c3aed",
      "backgroundColor": "#f3e8ff",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "frontend-title",
      "x": 120,
      "y": 220,
      "width": 200,
      "height": 30,
      "text": "üì± Frontend Pages",
      "fontSize": 20,
      "fontFamily": 1,
      "strokeColor": "#7c3aed",
      "opacity": 100
    },

    {
      "type": "rectangle",
      "id": "user-pages",
      "x": 120,
      "y": 270,
      "width": 160,
      "height": 200,
      "strokeColor": "#0ea5e9",
      "backgroundColor": "#e0f2fe",
      "fillStyle": "solid",
      "strokeWidth": 1.5,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "user-pages-title",
      "x": 135,
      "y": 280,
      "width": 130,
      "height": 25,
      "text": "User Pages",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#0ea5e9",
      "opacity": 100
    },
    {
      "type": "text",
      "id": "user-pages-list",
      "x": 135,
      "y": 310,
      "width": 130,
      "height": 145,
      "text": "‚Ä¢ index.html\n‚Ä¢ login.html ‚úÖ\n‚Ä¢ signup.html ‚úÖ\n‚Ä¢ dashboard.html ‚úÖ\n‚Ä¢ choose.html ‚úÖ\n‚Ä¢ submit.html ‚úÖ\n‚Ä¢ profile.html ‚úÖ\n‚Ä¢ leaderboard.html ‚úÖ",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#334155",
      "opacity": 100,
      "lineHeight": 1.25
    },

    {
      "type": "rectangle",
      "id": "admin-pages",
      "x": 300,
      "y": 270,
      "width": 160,
      "height": 200,
      "strokeColor": "#7c3aed",
      "backgroundColor": "#ede9fe",
      "fillStyle": "solid",
      "strokeWidth": 1.5,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "admin-pages-title",
      "x": 315,
      "y": 280,
      "width": 130,
      "height": 25,
      "text": "Admin Pages üîí",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#7c3aed",
      "opacity": 100
    },
    {
      "type": "text",
      "id": "admin-pages-list",
      "x": 315,
      "y": 310,
      "width": 135,
      "height": 145,
      "text": "‚Ä¢ dashboard.html\n  ‚úÖ Auto-refresh\n  ‚úÖ Toast alerts\n  ‚úÖ Stats cards\n\n‚Ä¢ verify.html\n  ‚úÖ Toast alerts\n  ‚úÖ Keyboard shortcuts\n  ‚è∏Ô∏è Pending fixes",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#334155",
      "opacity": 100,
      "lineHeight": 1.25
    },

    {
      "type": "rectangle",
      "id": "shared-utilities",
      "x": 120,
      "y": 490,
      "width": 340,
      "height": 190,
      "strokeColor": "#10b981",
      "backgroundColor": "#d1fae5",
      "fillStyle": "solid",
      "strokeWidth": 1.5,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "utilities-title",
      "x": 135,
      "y": 500,
      "width": 200,
      "height": 25,
      "text": "Shared Utilities ‚ú®",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#10b981",
      "opacity": 100
    },
    {
      "type": "text",
      "id": "utilities-list",
      "x": 135,
      "y": 530,
      "width": 300,
      "height": 135,
      "text": "‚Ä¢ script.js - Core app logic\n‚Ä¢ admin-core.js ‚ú®\n  - ToastManager\n  - LoadingManager\n  - AutoRefresh (30s)\n  - adminFetch helper\n  - KeyboardShortcuts\n\n‚Ä¢ admin-theme.css ‚ú®\n  - Modern card designs\n  - Toast animations",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#334155",
      "opacity": 100,
      "lineHeight": 1.25
    },

    {
      "type": "rectangle",
      "id": "backend-section",
      "x": 520,
      "y": 200,
      "width": 380,
      "height": 500,
      "strokeColor": "#ef4444",
      "backgroundColor": "#fee2e2",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "backend-title",
      "x": 540,
      "y": 220,
      "width": 200,
      "height": 30,
      "text": "‚öôÔ∏è Backend (Worker)",
      "fontSize": 20,
      "fontFamily": 1,
      "strokeColor": "#ef4444",
      "opacity": 100
    },

    {
      "type": "rectangle",
      "id": "api-endpoints",
      "x": 540,
      "y": 270,
      "width": 340,
      "height": 240,
      "strokeColor": "#f59e0b",
      "backgroundColor": "#fef3c7",
      "fillStyle": "solid",
      "strokeWidth": 1.5,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "api-title",
      "x": 555,
      "y": 280,
      "width": 150,
      "height": 25,
      "text": "API Endpoints",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#f59e0b",
      "opacity": 100
    },
    {
      "type": "text",
      "id": "api-list",
      "x": 555,
      "y": 310,
      "width": 310,
      "height": 185,
      "text": "Auth:\n  POST /api/auth/signup ‚úÖ\n  POST /api/auth/login ‚úÖ\n  POST /api/auth/logout ‚úÖ\n\nUser Routes:\n  POST /api/deeds (create)\n  GET /api/deeds (user's deeds)\n  GET /api/deed_catalog\n  GET /api/leaderboard\n  GET /api/profile\n\nAdmin Routes üîí:\n  GET /api/deeds?status=all ‚úÖ\n  GET /api/deeds?status=pending ‚úÖ\n  POST /api/verify ‚úÖ",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#334155",
      "opacity": 100,
      "lineHeight": 1.25
    },

    {
      "type": "rectangle",
      "id": "auth-protection",
      "x": 540,
      "y": 530,
      "width": 340,
      "height": 150,
      "strokeColor": "#dc2626",
      "backgroundColor": "#fee2e2",
      "fillStyle": "solid",
      "strokeWidth": 1.5,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "auth-title",
      "x": 555,
      "y": 540,
      "width": 200,
      "height": 25,
      "text": "üîê Authentication",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#dc2626",
      "opacity": 100
    },
    {
      "type": "text",
      "id": "auth-details",
      "x": 555,
      "y": 570,
      "width": 310,
      "height": 95,
      "text": "Session Management:\n  ‚Ä¢ HttpOnly cookies ‚úÖ\n  ‚Ä¢ Localhost fix (no Secure) ‚úÖ\n  ‚Ä¢ JWT tokens\n\nAdmin Route Protection:\n  ‚Ä¢ Server-side validation ‚úÖ\n  ‚Ä¢ /admin/* routes protected ‚úÖ",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#334155",
      "opacity": 100,
      "lineHeight": 1.25
    },

    {
      "type": "rectangle",
      "id": "database-section",
      "x": 100,
      "y": 750,
      "width": 800,
      "height": 280,
      "strokeColor": "#0891b2",
      "backgroundColor": "#cffafe",
      "fillStyle": "hachure",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "db-title",
      "x": 120,
      "y": 770,
      "width": 200,
      "height": 30,
      "text": "üóÑÔ∏è Database (D1)",
      "fontSize": 20,
      "fontFamily": 1,
      "strokeColor": "#0891b2",
      "opacity": 100
    },

    {
      "type": "rectangle",
      "id": "users-table",
      "x": 120,
      "y": 820,
      "width": 230,
      "height": 190,
      "strokeColor": "#3b82f6",
      "backgroundColor": "#dbeafe",
      "fillStyle": "solid",
      "strokeWidth": 1.5,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "users-table-title",
      "x": 135,
      "y": 830,
      "width": 100,
      "height": 25,
      "text": "users",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#3b82f6",
      "opacity": 100
    },
    {
      "type": "text",
      "id": "users-fields",
      "x": 135,
      "y": 860,
      "width": 200,
      "height": 135,
      "text": "‚Ä¢ id (PK)\n‚Ä¢ email (unique)\n‚Ä¢ password_hash\n‚Ä¢ name\n‚Ä¢ role (user|admin)\n‚Ä¢ credits\n‚Ä¢ created_at",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#334155",
      "opacity": 100,
      "lineHeight": 1.25
    },

    {
      "type": "rectangle",
      "id": "deeds-table",
      "x": 370,
      "y": 820,
      "width": 240,
      "height": 190,
      "strokeColor": "#8b5cf6",
      "backgroundColor": "#ede9fe",
      "fillStyle": "solid",
      "strokeWidth": 1.5,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "deeds-table-title",
      "x": 385,
      "y": 830,
      "width": 100,
      "height": 25,
      "text": "deeds",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#8b5cf6",
      "opacity": 100
    },
    {
      "type": "text",
      "id": "deeds-fields",
      "x": 385,
      "y": 860,
      "width": 210,
      "height": 135,
      "text": "‚Ä¢ id (PK)\n‚Ä¢ user_id (FK)\n‚Ä¢ catalog_id (FK)\n‚Ä¢ title\n‚Ä¢ description\n‚Ä¢ category\n‚Ä¢ proof_url\n‚Ä¢ status (pending|verified)\n‚Ä¢ created_at",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#334155",
      "opacity": 100,
      "lineHeight": 1.25
    },

    {
      "type": "rectangle",
      "id": "catalog-table",
      "x": 630,
      "y": 820,
      "width": 250,
      "height": 190,
      "strokeColor": "#10b981",
      "backgroundColor": "#d1fae5",
      "fillStyle": "solid",
      "strokeWidth": 1.5,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "catalog-table-title",
      "x": 645,
      "y": 830,
      "width": 150,
      "height": 25,
      "text": "deed_catalog",
      "fontSize": 16,
      "fontFamily": 1,
      "strokeColor": "#10b981",
      "opacity": 100
    },
    {
      "type": "text",
      "id": "catalog-fields",
      "x": 645,
      "y": 860,
      "width": 220,
      "height": 135,
      "text": "‚Ä¢ id (PK)\n‚Ä¢ name\n‚Ä¢ category\n‚Ä¢ description\n‚Ä¢ credits_value\n‚Ä¢ created_at",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#334155",
      "opacity": 100,
      "lineHeight": 1.25
    },

    {
      "type": "arrow",
      "id": "frontend-to-backend",
      "x": 480,
      "y": 450,
      "width": 35,
      "height": 0,
      "points": [[0, 0], [35, 0]],
      "strokeColor": "#64748b",
      "strokeWidth": 2,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "id": "api-label",
      "x": 420,
      "y": 430,
      "width": 150,
      "height": 20,
      "text": "API Requests",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#64748b",
      "opacity": 100
    },

    {
      "type": "arrow",
      "id": "backend-to-db",
      "x": 710,
      "y": 700,
      "width": 0,
      "height": 45,
      "points": [[0, 0], [0, 45]],
      "strokeColor": "#64748b",
      "strokeWidth": 2,
      "startArrowhead": null,
      "endArrowhead": "arrow"
    },
    {
      "type": "text",
      "id": "db-queries-label",
      "x": 720,
      "y": 710,
      "width": 100,
      "height": 20,
      "text": "SQL Queries",
      "fontSize": 14,
      "fontFamily": 1,
      "strokeColor": "#64748b",
      "opacity": 100
    },

    {
      "type": "rectangle",
      "id": "improvements-box",
      "x": 950,
      "y": 200,
      "width": 300,
      "height": 500,
      "strokeColor": "#22c55e",
      "backgroundColor": "#f0fdf4",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "improvements-title",
      "x": 970,
      "y": 220,
      "width": 260,
      "height": 30,
      "text": "‚úÖ Recent Improvements",
      "fontSize": 20,
      "fontFamily": 1,
      "strokeColor": "#22c55e",
      "opacity": 100
    },
    {
      "type": "text",
      "id": "improvements-list",
      "x": 970,
      "y": 260,
      "width": 260,
      "height": 420,
      "text": "Phase 1 Complete:\n‚úÖ Admin core utilities\n   - ToastManager\n   - AutoRefresh\n   - adminFetch\n   - KeyboardShortcuts\n‚úÖ Modern theme CSS\n‚úÖ Verify page integration\n\nPhase 2 Complete:\n‚úÖ Dashboard enhancements\n   - Auto-refresh (30s)\n   - Toast notifications\n   - Loading states\n   - Manual refresh\n\nAuth Fixes:\n‚úÖ Logout buttons on all pages\n‚úÖ Session cookies work on\n   localhost (HTTP)\n‚úÖ Server-side admin\n   route protection\n\nNext: Phase 3\n‚è≠Ô∏è Verification queue\n   - Filters & search\n   - Bulk actions\n   - Image lightbox\n   - Deed details modal",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#334155",
      "opacity": 100,
      "lineHeight": 1.25
    },

    {
      "type": "rectangle",
      "id": "legend-box",
      "x": 950,
      "y": 750,
      "width": 300,
      "height": 280,
      "strokeColor": "#94a3b8",
      "backgroundColor": "#f8fafc",
      "fillStyle": "solid",
      "strokeWidth": 2,
      "roughness": 1,
      "opacity": 100
    },
    {
      "type": "text",
      "id": "legend-title",
      "x": 970,
      "y": 770,
      "width": 100,
      "height": 30,
      "text": "üìñ Legend",
      "fontSize": 20,
      "fontFamily": 1,
      "strokeColor": "#94a3b8",
      "opacity": 100
    },
    {
      "type": "text",
      "id": "legend-items",
      "x": 970,
      "y": 810,
      "width": 260,
      "height": 200,
      "text": "‚úÖ = Implemented\n‚è∏Ô∏è = Pending fixes\n‚è≠Ô∏è = Next phase\nüîí = Admin only\n‚ú® = New/Enhanced\n\nEnvironments:\n‚Ä¢ Localhost: http://localhost:8787\n  (dev server, latest code)\n\n‚Ä¢ Production:\n  deeds-app.workers.dev\n  (requires deployment)\n\nTest Admin:\nadmin@deeds.local / admin123",
      "fontSize": 14,
      "fontFamily": 3,
      "strokeColor": "#334155",
      "opacity": 100,
      "lineHeight": 1.25
    }
  ],
  "appState": {
    "gridSize": 20,
    "viewBackgroundColor": "#ffffff"
  }
}
